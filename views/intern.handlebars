<header>
  <a href="/search" class="home-btn">
    <div class="home-icon">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="22.06"
        height="22.06"
        viewBox="0 0 22.06 22.06"
      >
        <path
          id="Icon_open-magnifying-glass"
          data-name="Icon open-magnifying-glass"
          d="M9.565-.018a9.565,9.565,0,0,0,0,19.129,9.454,9.454,0,0,0,4.536-1.12,2.733,2.733,0,0,0,.355.355l2.733,2.733a2.787,2.787,0,1,0,3.935-3.935l-2.733-2.733a2.733,2.733,0,0,0-.437-.355,9.436,9.436,0,0,0,1.2-4.536A9.575,9.575,0,0,0,9.592-.045Zm0,2.733A6.8,6.8,0,0,1,16.4,9.547a6.853,6.853,0,0,1-1.8,4.7l-.082.082a2.733,2.733,0,0,0-.355.355,6.838,6.838,0,0,1-4.618,1.722,6.832,6.832,0,0,1,0-13.664Z"
          transform="translate(0 0.045)"
          fill="#ffaa07"
        />
      </svg>

    </div>
    <span>Search</span>
  </a>
</header>

<div class="main-container">
  <div class="head-text">
    <h1>Recommended Songs</h1>
  </div>

  <ul class="song-list">
    {{#each songs}}
      <li class="song-card">
        <!-- Song Bild -->
        <div class="song-image">
          <img src="{{image}}" alt="{{title}}" />
        </div>

        <!-- Song Informationen -->
        <div class="song-info">
          <h3>{{title}}</h3>
          <p>{{artist}}</p>
        </div>

        <!-- Empfehlungen und Button -->
        <div class="recommend-section">
          <span class="recommend-count">{{recommend_count}} ®</span>
          <button class="recommend-btn" onclick="recommendSong('{{id}}')">
            Recommend
          </button>
        </div>
      </li>
    {{/each}}
  </ul>
</div>


<script>

// Initialisiere Empfehlungen im Local Storage
if (!localStorage.getItem("recommendations")) {
  localStorage.setItem("recommendations", JSON.stringify({}));
}

// Song empfehlen
function recommendSong(songId) {
  // Empfehlungen aus Local Storage abrufen
  let recommendations = JSON.parse(localStorage.getItem("recommendations"));

  // Empfehlung für den Song erhöhen
  if (recommendations[songId]) {
    recommendations[songId]++;
  } else {
    recommendations[songId] = 1;
  }

  // Speichern
  localStorage.setItem("recommendations", JSON.stringify(recommendations));

  // Seite neu laden oder Empfehlungen dynamisch aktualisieren
  location.reload();
}


</script>